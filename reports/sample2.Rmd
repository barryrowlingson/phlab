---
description: >
 This report is a simple test that fits a model to some random data and creates a plot.

docopt: >
 usage: 
   sample2.Rmd -n <n> [-p -t <title>]

 options:
  -p          Plot or not
  -n          Number of points
  -t <title>  Title
output:
 pdf_document:
  toc: false
 html_document:
  toc: false
 md_document:
  toc: false
---

```{r docopt}
message("docstring is ")
print(doc)
message("opts is ")
print(opts)

message("argv is")
print(argv)

```

# Sample report

This is a sample markdown report.

```{r test}
n = as.numeric(opts$n)
p = as.logical(opts$p)
title = opts$t

samp = data.frame(
     X = runif(n),
     Y = runif(n))
m = lm(Y~X, data=samp)
summary(m)
if(p){
 plot(samp$X, samp$Y)
}
```

That's that.


